/*!
 * angular-ui-scrollpoint
 * https://github.com/angular-ui/ui-scrollpoint
 * Version: 1.2.1 - 2015-11-17T02:53:22.290Z
 * License: MIT
 */
!function(){"use strict";angular.module("ui.scrollpoint",[]).directive("uiScrollpoint",["$window",function(t){function o(){if(angular.isDefined(t.pageYOffset))return t.pageYOffset;var o=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;return o.scrollTop}function n(o){return o?t.document.body.scrollHeight-t.innerHeight:t.innerHeight}return{require:"^?uiScrollpointTarget",scope:{uiScrollpoint:"@",uiScrollpointClass:"@?",uiScrollpointAction:"&?",uiScrollpointBottom:"@"},link:function(e,i,l,r){function u(t){if(t){if("string"==typeof t)if(h="%"==t.charAt(t.length-1),h&&(t=t.substr(0,t.length-1)),"-"===t.charAt(0))m=h,S=-parseFloat(t.substr(1));else if("+"===t.charAt(0))m=h,S=parseFloat(t.substr(1));else{var o=parseFloat(t);!isNaN(o)&&isFinite(o)&&(m=!0,S=o)}else if("number"==typeof t)return t=t.toString(),void u(t)}else m=!1;g=c()}function c(){var t=m?S:s()+S;return h&&m?(t=S/100*f(),C&&(t=f()-t)):C&&(t=m?f()-t:t+i[0].offsetHeight+1-a()),t}function s(){if(!r){var t=i[0].getBoundingClientRect();return t.top+o()}return i[0].offsetTop}function a(){return r?$[0].offsetHeight:n()}function f(){return r?$[0].scrollHeight-$[0].clientHeight:n(!0)}function p(){var t=c(),n=r?$[0].scrollTop:o(),e=null;!C&&n>=t||C&&t>=n?(v||(e=t-n,v=!0),i.hasClass(H)||i.addClass(H),g=t):(!C&&g>n||C&&n>g)&&(v&&(e=g-n,v=!1),i.hasClass(H)&&i.removeClass(H)),b&&null!==e&&b(i,e*(C?-1:1))}function d(){i.removeClass(H),v=C,g=c(),p()}var g,m=!0,h=!1,S=0,v=!1,C=e.uiScrollpointBottom,$=r&&r.$element||angular.element(t),H=e.uiScrollpointClass||"ui-scrollpoint",b=e.uiScrollpointAction?e.uiScrollpointAction():void 0;u(e.uiScrollpoint),e.$on("scrollpointShouldReset",d),$.on("scroll",p),p(),e.$on("$destroy",function(){$.off("scroll",p)}),e.$watch("uiScrollpoint",function(t){u(t),p()})}}}]).directive("uiScrollpointTarget",[function(){return{controller:["$element",function(t){this.$element=t}]}}])}();